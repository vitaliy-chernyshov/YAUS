{% extends 'base.html' %}
{% load user_filters %}
{% block content %}
  <div class="row justify-content-center">
    <div class="col-md-6">
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Длинная ссылка</th>
          <th scope="col">Короткая ссылка</th>
          <th scope="col">is public?</th>
          <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        {% for url in object_list %}
          <form action="{% url 'shortener:update' url.pk %}" method="post" novalidate>
            <tr>
              {% csrf_token %}
              <th scope="row">{{ page_obj.start_index|add:forloop.counter0 }}</th>

              <td><input type="text" readonly class="form-control-plaintext" name="long" value="{{ url.long }}"></td>
              <td><input type="text" readonly class="form-control-plaintext" name="short" value="{{ url.short }}"></td>
              <td>
                <input class="form-check-input" type="checkbox" name="is_public"
                    {% if  url.is_public == True %}
                       checked
                    {% endif %}>
              </td>
              <td>
                <button type="submit" class="btn btn-primary" value="Update">Сохранить</button>
              </td>
            </tr>
          </form>
        {% endfor %}
        </tbody>
      </table>
      {% include 'paginator.html' %}
    </div>
  </div>
{% endblock %}
